{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","Pieds2Page.jsx","BtnAjouterPanier.jsx","Produit.jsx","ListeProduits.jsx","Accueil.jsx","Apropos.jsx","Contact.jsx","Page.jsx","hooks/useLocalStoragePersistnantState.js","index.jsx"],"names":["SommairePanier","props","etatPanier","panier","infoPanier","pan","info","articles","Object","values","nbArticles","lenght","qtArticles","reduce","valInit","valCour","qte","sousTotal","accumulateur","articleCourant","prix","st","toFixed","tps","tvq","total","retournerInforPanier","className","cacher","Entete","useState","cacheSommaire","setCacheSommaire","eltCourant","to","Badge","onClick","badgeContent","color","Pieds2Page","annee","Date","getFullYear","BtnAjouterPanier","couleur","texte","Produit","setPanier","btnTexte","btnQte","btnCouleurCls","id","src","alt","nom","JSON","parse","stringify","ListeProduits","console","log","tabProduits","map","prd","Accueil","Apropos","Contact","Page","valeurInitiale","etiquetteLS","window","localStorage","getItem","etat","setEtat","useEffect","setItem","useLocalStorageState","path","component","exact","baseName","location","href","search","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"ywBAEe,SAASA,EAAeC,GAAO,kBAEdA,EAAMC,WAFQ,GAEnCC,EAFmC,KAGpCC,GAHoC,KAgB9C,SAA8BC,GAC1B,IAAIC,EAAO,GAGPC,EAAWC,OAAOC,OAAOJ,GAI7BC,EAAKI,WAAaH,EAASI,OAY3BL,EAAKM,WAAaL,EAASM,QAAO,SAASC,EAASC,GAChD,OAAOA,EAAQC,IAAMF,IACtB,GAIH,IAAIG,EAAYV,EAASM,QAAO,SAACK,EAAcC,GAAf,OAAkCA,EAAeC,KAAOD,EAAeH,IAAME,IAAc,GAC3HZ,EAAKe,GAAKJ,EAAUK,QAAQ,GAG5B,IAAIC,EAAmB,IAAZN,EACXX,EAAKiB,IAAMA,EAAID,QAAQ,GAEvB,IAAIE,EAAkB,OAAZP,EAKV,OAJAX,EAAKkB,IAAMA,EAAIF,QAAQ,GAEvBhB,EAAKmB,OAASR,EAAYM,EAAMC,GAAKF,QAAQ,GAEtChB,EAnDYoB,CAAqBvB,IACxC,OACI,sBAAKwB,UAAW,kBAAoB1B,EAAM2B,OAAS,UAAY,IAA/D,UACI,uBAAMD,UAAU,aAAhB,mCAAoDvB,EAAWM,WAA/D,OACA,uBAAMiB,UAAU,cAAhB,8BAAgDvB,EAAWQ,WAA3D,OACA,uBAAMe,UAAU,YAAhB,0BAA0CvB,EAAWiB,GAArD,OACA,uBAAMM,UAAU,MAAhB,mBAA6BvB,EAAWmB,IAAxC,OACA,uBAAMI,UAAU,MAAhB,mBAA6BvB,EAAWoB,IAAxC,OACA,uBAAMG,UAAU,QAAhB,qBAAiCvB,EAAWqB,MAA5C,UCNG,SAASI,EAAO5B,GAAO,MAaQ6B,oBAAS,GAbjB,mBAa3BC,EAb2B,KAaZC,EAbY,mBAqBN/B,EAAMC,WArBA,GAqB3BC,EArB2B,KAwB5BO,GAxB4B,KAwBfF,OAAOC,OAAON,GAAQU,QAAO,SAACK,EAAce,GAAf,OAA8Bf,EAAee,EAAWjB,MAAK,IAE7G,OACI,yBAAQW,UAAU,SAAlB,UACI,8BAAK,cAAC,IAAD,CAAMO,GAAG,IAAT,oBACL,qBAAIP,UAAU,gBAAd,UACI,6BAAI,cAAC,IAAD,CAAMO,GAAG,gBAAT,uBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,uBAAT,gCACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,WAAT,iCAER,qBAAIP,UAAU,UAAd,UACI,+BACI,cAACQ,EAAA,EAAD,CAAOC,QAjBQ,kBAAMJ,GAAkBD,IAiBCM,aAAc3B,EAAY4B,MAAM,UAAxE,SACI,cAAC,IAAD,MAEJ,cAAC,EAAD,CAAgBV,OAAQG,EAAe7B,WAAYD,EAAMC,gBAE7D,kD,MC9CD,SAASqC,EAAWtC,GAE/B,IAAMuC,GAAS,IAAIC,MAAQC,cAC3B,OACI,2CACYF,K,kBCHL,SAASG,EAAiB1C,GACrC,OACI,cAACkC,EAAA,EAAD,CAAOE,aAAcpC,EAAMe,IAAKsB,MAAM,YAAtC,SACI,wBACIF,QAAWnC,EAAMmC,QACjBT,UAAY,oBAAuB1B,EAAM2C,QAF7C,SAKK3C,EAAM4C,U,qBCRR,SAASC,EAAQ7C,GAAO,kBAEPA,EAAMC,WAFC,GAE5BC,EAF4B,KAEpB4C,EAFoB,KAqBnC,IAAIC,EAAW,oBACXC,EAAS,EACTC,EAAgB,GAOpB,OANG/C,EAAOF,EAAMkD,MACZH,EAAW,cAAC,IAAD,IACXC,EAAS9C,EAAOF,EAAMkD,IAAInC,IAC1BkC,EAAgB,SAIhB,qBAAIvB,UAAU,UAAd,UACI,qBAAKA,UAAU,QAAf,SACI,qBAAKyB,IAAK,mBAAqBnD,EAAMkD,GAAK,QAASE,IAAKpD,EAAMqD,QAElE,sBAAK3B,UAAU,OAAf,UACI,6BAAK1B,EAAMqD,MACX,oBAAG3B,UAAU,OAAb,UAAqB1B,EAAMmB,KAA3B,UACA,cAAC,EAAD,CAAkBgB,QAhC9B,WACOjC,EAAOF,EAAMkD,IACZhD,EAAOF,EAAMkD,IAAInC,MAGjBb,EAAOF,EAAMkD,IAAM,CAAC/B,KAAMnB,EAAMmB,KAAMJ,IAAK,GAI/C+B,EAAUQ,KAAKC,MAAMD,KAAKE,UAAUtD,MAwBxB0C,MAAOG,EACPhC,IAAKiC,EACLL,QAASM,U,YCtBdQ,MAnBf,SAAuBzD,GAEnB,OADA0D,QAAQC,IAAI,4BAA6B3D,EAAMC,YAE3C,sBAAKyB,UAAU,gBAAf,UACI,qDACA,6BAEQkC,EAAYC,KAAI,SAACC,GAAD,OACZ,cAAC,EAAD,CACA7D,WAAYD,EAAMC,WAClBiD,GAAIY,EAAIZ,GAAIG,IAAKS,EAAIT,IACrBlC,KAAM2C,EAAI3C,MAHI2C,EAAIZ,a,WCZ3B,SAASa,IACpB,OACI,sBAAKrC,UAAU,UAAf,UACI,yCACA,kECJG,SAASsC,IACpB,OACI,sBAAKtC,UAAU,UAAf,UACI,kDACA,2CCJG,SAASuC,IACpB,OACI,sBAAKvC,UAAU,UAAf,UACI,gDACA,iECMG,SAASwC,EAAKlE,GAI3B,IAAMC,ECLO,SAA8BkE,EAAgBC,GAAc,IAAD,EAC9CvC,oBACtB,kBAAMyB,KAAKC,MAAMc,OAAOC,aAAaC,QAAQH,KAAiBD,KAFM,mBAC/DK,EAD+D,KACzDC,EADyD,KAWtE,OANAC,qBACE,kBAAML,OAAOC,aAAaK,QAAQP,EAAad,KAAKE,UAAUgB,MAC9D,CAACA,EAAMJ,IAIF,CAACI,EAAMC,GDNGG,CAAqB,GAAI,UA2B5C,OACE,cADO,CACP,OAAKlD,UAAU,OAAf,UACE,cAAC,EAAD,CAAQzB,WAAYA,IACpB,yBAASyB,UAAU,mBAAnB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOmD,KAAK,IAAIC,UAAWf,EAASgB,OAAK,IACzC,cAAC,IAAD,CAAOF,KAAK,gBAAZ,SACE,cAAC,EAAD,CAAe5E,WAAYA,MAE7B,cAAC,IAAD,CAAO4E,KAAK,uBAAZ,SACE,cAACb,EAAD,MAEF,cAAC,IAAD,CAAOa,KAAK,WAAZ,SACE,cAACZ,EAAD,WAKN,cAAC,EAAD,OErDN,IAAMe,GAA4D,IAAhDX,OAAOY,SAASC,KAAKC,OAAO,eAAyB,iBAAmB,GAE1FC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAQC,SAAUP,EAAlB,SACE,cAAC,EAAD,QAGJQ,SAASC,eAAe,a","file":"static/js/main.5af6385b.chunk.js","sourcesContent":["import './SommairePanier.scss';\r\n\r\nexport default function SommairePanier(props) {\r\n    // console.log(\"sommaire panier : \", props.etatPanier);\r\n    const [panier, setPanier] = props.etatPanier;\r\n    const infoPanier = retournerInforPanier(panier);\r\n    return (\r\n        <div className={'SommairePanier' + (props.cacher ? ' cacher' : '')}>\r\n            <span className=\"nbArticles\">Articles differents : {infoPanier.nbArticles} </span>\r\n            <span className=\"qteArticles\">Articles total : {infoPanier.qtArticles} </span>\r\n            <span className=\"sousTotal\">Sous-total : {infoPanier.st} </span>\r\n            <span className=\"tps\">TPS : {infoPanier.tps} </span>\r\n            <span className=\"tvq\">TVQ : {infoPanier.tvq} </span>\r\n            <span className=\"total\">total : {infoPanier.total} </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction retournerInforPanier(pan) {\r\n    let info = {}; // {nbArticles : 1, qteArticle: 18, sousTotal : 1232.32}\r\n\r\n    // sortir les articles e tles mettre dans un tableau\r\n    let articles = Object.values(pan);\r\n    // console.log(articles);\r\n\r\n    // nbr aricles differents\r\n    info.nbArticles = articles.lenght;\r\n\r\n    // qte articles totale\r\n    //permiere facon\r\n\r\n    // let qteTotale = 0;\r\n    // for(let i=0; i<articles.lenght; i++) {\r\n    //     qteTotale += articles[i].qte;\r\n    // }\r\n    // info.qteArticles = qteTotale;\r\n\r\n    //meilleure facon\r\n    info.qtArticles = articles.reduce(function(valInit, valCour) {\r\n        return valCour.qte + valInit;\r\n    }, 0);\r\n    // info.qteArticles = articles.reduce((accumulateur, articleCourant) => articleCourant.prix * articleCourant.qte + accumulateur, 0);\r\n\r\n    //sous total\r\n    let sousTotal = articles.reduce((accumulateur, articleCourant) => articleCourant.prix * articleCourant.qte + accumulateur, 0);\r\n    info.st = sousTotal.toFixed(2);\r\n\r\n    //tps\r\n    let tps = (sousTotal * 0.05);\r\n    info.tps = tps.toFixed(2);\r\n\r\n    let tvq = sousTotal * 0.09975;\r\n    info.tvq = tvq.toFixed(2);\r\n\r\n    info.total = (sousTotal + tps + tvq).toFixed(2);\r\n\r\n    return info;\r\n    // console.log(sousTotal);\r\n}","import './Entete.scss';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport SommairePanier from './SommairePanier';\r\nimport { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Entete(props) {\r\n    // const etatCacherSommairePanier = useState(true);\r\n    // console.log(\"La variable statCacherSomPan : \" , etatCacherSommairePanier);\r\n\r\n    // // Array/Object DESTRUCTURING (decomposition des tableaux et objets)\r\n    \r\n    // const valeurEtatCacher = etatCacherSommairePanier[0];\r\n    // console.log(\"valeur etat : \" , valeurEtatCacher);\r\n\r\n    // const fonctionSetEtatCacher = etatCacherSommairePanier[0];\r\n    // console.log(\"fonction qui modifie letat : \" , fonctionSetEtatCacher);\r\n\r\n    // avec la decompasition de tableau, cest plus facile!\r\n    const [cacheSommaire, setCacheSommaire] = useState(true);\r\n    // console.log(\"etat du sp :\", cacheSommaire);\r\n\r\n    // const basculerSommairePanier = function() {\r\n    //     setCacheSommaire(cacheSommaire?false:true);\r\n    // }\r\n    const basculerSommairePanier = () => setCacheSommaire(!cacheSommaire);\r\n\r\n    const [panier, setPanier] = props.etatPanier;\r\n    \r\n    //calculer le nombre darticle total du panier\r\n    const nbArticles = Object.values(panier).reduce((accumulateur, eltCourant) => accumulateur + eltCourant.qte, 0);\r\n    // console.log(\"tableau des articles dans le panier : \", articlesTab);\r\n    return (\r\n        <header className=\"Entete\">\r\n            <div><Link to=\"/\">Logo</Link></div>\r\n            <ul className=\"navPrincipale\">\r\n                <li><Link to=\"/nos-produits\">Produit</Link></li>\r\n                <li><Link to=\"/a-propos-de-magasin\">A propos de nous</Link></li>\r\n                <li><Link to=\"/contact\">Contactez-nous</Link></li>\r\n            </ul>\r\n            <ul className=\"navUtil\">\r\n                <li>\r\n                    <Badge onClick={basculerSommairePanier} badgeContent={nbArticles} color=\"primary\">\r\n                        <ShoppingCartIcon/> \r\n                    </Badge>\r\n                    <SommairePanier cacher={cacheSommaire} etatPanier={props.etatPanier}/>\r\n                </li>\r\n                <li>Mon compte</li>\r\n            </ul>\r\n        </header>\r\n    );\r\n}","import './Pieds2Page.scss';\r\n\r\nexport default function Pieds2Page(props) {\r\n    // obtenir l'annee courante\r\n    const annee = (new Date()).getFullYear();\r\n    return (\r\n        <footer>\r\n            &copy; {annee}\r\n        </footer>\r\n    );\r\n}","import './BtnAjouterPanier.scss';\r\nimport Badge from '@material-ui/core/Badge'\r\nimport { useState } from 'react';\r\n\r\nexport default function BtnAjouterPanier(props) {\r\n    return (\r\n        <Badge badgeContent={props.qte} color=\"secondary\">\r\n            <button \r\n                onClick = {props.onClick}\r\n                className= {\"BtnAjouterPanier \" + (props.couleur)}\r\n                // className= {'BtnAjouterPanier ${props.couleur}'} // template literals\r\n            >\r\n                {props.texte}\r\n            </button>\r\n        </Badge>\r\n    )\r\n}","import './Produit.scss';\r\nimport BtnAjouterPanier from './BtnAjouterPanier';\r\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\r\n\r\nexport default function Produit(props) {\r\n    // console.log(\"Panier dans Produit : \" , props.etatPanier);\r\n    const [panier, setPanier] = props.etatPanier;\r\n    /**\r\n     * Ajoute l'article au panier\r\n     */\r\n    function ajouterArticle(){\r\n        if(panier[props.id]) {\r\n            panier[props.id].qte++;\r\n        }\r\n        else{\r\n            panier[props.id] = {prix: props.prix, qte: 1}\r\n        }\r\n        // mntnt il faut changer letat du panuer avec setPanier\r\n        // il faut passer a setPanier un NOUVEL objet (obtenu par clonage)\r\n        setPanier(JSON.parse(JSON.stringify(panier))); \r\n        // setPanier({...panier})\r\n        // console.log(panier);\r\n    }\r\n\r\n    // etat du btn\r\n    let btnTexte = \"Ajouter au panier\"\r\n    let btnQte = 0;\r\n    let btnCouleurCls = \"\";\r\n    if(panier[props.id]) {\r\n        btnTexte = <AddShoppingCartIcon/>; //jsx  javascript syntax extension\r\n        btnQte = panier[props.id].qte;\r\n        btnCouleurCls = \"rouge\";\r\n    }\r\n\r\n    return(\r\n        <li className=\"Produit\">\r\n            <div className=\"image\">\r\n                <img src={'images-produits/' + props.id + '.webp'} alt={props.nom}/>\r\n            </div>\r\n            <div className=\"info\">\r\n                <h3>{props.nom}</h3>\r\n                <p className=\"prix\">{props.prix} $CA</p>\r\n                <BtnAjouterPanier onClick={ajouterArticle} \r\n                    texte={btnTexte}\r\n                    qte={btnQte}\r\n                    couleur={btnCouleurCls}\r\n                />\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\n","import './ListeProduits.scss';\r\nimport Produit from './Produit';\r\nimport tabProduits from './data/produits.json';\r\n\r\nfunction ListeProduits(props) {\r\n    console.log(\"Panier dans ListeProduits\", props.etatPanier);\r\n    return (\r\n        <div className=\"ListeProduits\">\r\n            <h2>Produits disponbles</h2>\r\n            <ul>\r\n                {\r\n                    tabProduits.map((prd) =>\r\n                        <Produit key={prd.id} \r\n                        etatPanier={props.etatPanier} \r\n                        id={prd.id} nom={prd.nom} \r\n                        prix={prd.prix} />\r\n                    )\r\n                }\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ListeProduits;","export default function Accueil() {\r\n    return (\r\n        <div className=\"Accueil\">\r\n            <h2>Magasin</h2>\r\n            <p>Page d'accueil en contrsuction</p>\r\n        </div>\r\n    );\r\n}","export default function Apropos() {\r\n    return (\r\n        <div className=\"Apropos\">\r\n            <h2>A propos de nous</h2>\r\n            <p>Pblooop</p>\r\n        </div>\r\n    );\r\n}","export default function Contact() {\r\n    return (\r\n        <div className=\"Contact\">\r\n            <h2>Contactez-nous</h2>\r\n            <p>Formulaire de contact a venir</p>\r\n        </div>\r\n    );\r\n}","import './Page.scss';\nimport Entete from './Entete';\nimport Pieds2Page from './Pieds2Page';\nimport ListeProduits from './ListeProduits';\nimport useLocalStorageState from './hooks/useLocalStoragePersistnantState';\nimport { Switch, Route } from 'react-router-dom';\nimport Accueil from './Accueil';\nimport Apropos from './Apropos';\nimport Contact from './Contact';\n\nexport default function Page(props) {\n\n  //on utilise notre hook personnalise pour creer un etat qui sera sauvegarde dans localstorage\n  // ces etats aura comme valeur initiale : {}\n  const etatPanier = useLocalStorageState({}, 'panier');\n  // const etatConnexion = useLocalStorageState(false, \"utilisateur-connexion\");\n  // const etatLangue = useLocalStorageState(\"fr\", \"choix-langue\");\n\n  // const [panier, setPanier] = etatPanier;\n  //exemple de comment je vais stocker les articles dans le panier\n  // const bonPanier = ({\n  //   prd0001 : {prix: 10.99, qte : 1},\n  //   prd0005 : {prix: 24.95, qte : 1}\n  // })\n  \n  //lazy initialisation\n  // const etatPanier = useState(() => {\n  //   const panierLS = window.localStorage.getItem('panier');\n  //   return (panierLS !== null) ? JSON.parse(panierLS) : {};\n  // }); \n  // const [panier, setPanier] = etatPanier;\n  \n  // sauvegarder le panier dans localstorage\n  //useEffect is better\n  // useEffect(() => {\n  //   window.localStorage.setItem('panier', JSON.stringify(panier))\n  // }, [panier]); //tableau des deps (dependances)\n  // tab vide : execute 1x\n  // rien : execute a chaque render\n  // avec variable ex [panier] : execute leffect lorsque cette variable change\n\n  return ( //element pour mettre dans linterface\n    <div className=\"Page\">\n      <Entete etatPanier={etatPanier}/>\n      <section className=\"contenuPrincipal\">\n        <Switch>\n          <Route path=\"/\" component={Accueil} exact/>\n          <Route path=\"/nos-produits\">\n            <ListeProduits etatPanier={etatPanier}/>\n          </Route>\n          <Route path=\"/a-propos-de-magasin\">\n            <Apropos/>\n          </Route>\n          <Route path=\"/contact\">\n            <Contact/>\n          </Route>\n        </Switch>\n        \n      </section>\n      <Pieds2Page/>\n    </div>\n  );\n}\n\n","import { useEffect, useState } from \"react\";\r\n\r\n/**\r\n * \r\n * @param {*} valeurInitial valeur quelconque avec lasquelle eon veut initialiser letat\r\n * @param {*} etiquetteSl chaine de caractere pour letiquete localstorage\r\n * \r\n * @returns {Array} tableau retournee par useState\r\n */\r\nexport default function useLocalStorageState(valeurInitiale, etiquetteLS) {\r\n    const [etat, setEtat] = useState(\r\n      () => JSON.parse(window.localStorage.getItem(etiquetteLS)) || valeurInitiale\r\n    );\r\n  \r\n    useEffect(\r\n      () => window.localStorage.setItem(etiquetteLS, JSON.stringify(etat)),\r\n      [etat, etiquetteLS]\r\n    );\r\n  \r\n    // Retourner l'état\r\n    return [etat, setEtat];\r\n  }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.scss';\nimport Page from './Page'; //importe fonction page du fichier page.js\n\nconst baseName = (window.location.href.search(/github\\.io/i) !== -1) ? \"/panier-achats\" : \"\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={baseName}>\n      <Page />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('racine')\n);\n"],"sourceRoot":""}